<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рж░рж┐ржкрзЛрж░рзНржЯ, ржкрж░рж╛ржорж░рзНрж╢ ржУ ржирж┐рж░рзНржжрзЗрж╢рж┐ржХрж╛</title>
    <script src="https://cdn.tailwindcss.com"> </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* ржлржирзНржЯ ржУ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржб ржХрж╛рж╕рзНржЯржорж╛ржЗржЬрзЗрж╢ржи */
        body {
            font-family: 'Hind Siliguri', Inter, sans-serif;
            background-color: #f7f9fc;
            min-height: 100vh;
        }

        /* ржмрзНрж░рзНржпрж╛ржирзНржбрж┐ржВ ржХрж╛рж▓рж╛рж░ - ржЖржзрзБржирж┐ржХ ржирзАрж▓ */
        .brand-blue {
            background-color: #0d6efd;
            transition: background-color 0.2s;
        }
        
        .brand-blue:hover {
            background-color: #0b5ed7;
        }

        .brand-blue-text {
            color: #0d6efd;
        }

        /* ржХрж╛рж░рзНржб рж╕рзНржЯрж╛ржЗрж▓ - ржПрж▓рж┐ржнрзЗржЯрзЗржб рж▓рзБржХ */
        .app-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border: 1px solid #e9ecef;
        }
        
        /* ржЗржиржкрзБржЯ рж╕рзНржЯрж╛ржЗрж▓рж┐ржВ */
        .app-input {
            border: 1px solid #ced4da;
            border-radius: 8px;
            padding: 12px;
            font-size: 16px;
            background-color: white;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .app-input:focus {
            outline: none;
            border-color: #0d6efd;
            box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
        }

        /* --- ржирж┐рж░рзНржжрзЗрж╢ржирж╛ ржкрзЗржЬрзЗрж░ рж╕рзНржЯрж╛ржЗрж▓ --- */
        
        /* ржмрж┐ржнрж╛ржЧ рж╢рж┐рж░рзЛржирж╛ржорзЗрж░ рж╕рзНржЯрж╛ржЗрж▓ */
        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid #0d6efd; /* ржмрзНрж░рзНржпрж╛ржирзНржбрж┐ржВ ржХрж╛рж▓рж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржорж┐рж▓рж┐ржпрж╝рзЗ ржмрзЛрж▓рзНржб ржЖржирзНржбрж╛рж░рж▓рж╛ржЗржи */
            padding-bottom: 0.75rem;
        }
        
        /* ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржирзЛржЯрзЗрж░ рж╕рзНржЯрж╛ржЗрж▓ */
        .note-card {
            background-color: #fffbe5; /* рж╣рж╛рж▓ржХрж╛ рж╣рж▓рзБржж */
            border-left: 5px solid #f59e0b; /* ржЧрж╛ржврж╝ рж╣рж▓рзБржж рж╕рзНржЯрзНрж░рж╛ржЗржк */
            padding: 1.25rem; /* ржкрзНржпрж╛ржбрж┐ржВ ржмрж╛ржбрж╝рж╛ржирзЛ рж╣рж▓рзЛ */
            border-radius: 8px;
            margin-top: 1.5rem;
        }

        /* ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржирж┐рж░рзНржжрзЗрж╢ржирж╛ржорзВрж▓ржХ ржХрж╛рж░рзНржб рж╕рзНржЯрж╛ржЗрж▓ (Step-by-step guidance) */
        .step-card {
            background-color: #eef2ff; /* рж╣рж╛рж▓ржХрж╛ ржирзАрж▓ */
            padding: 1.5rem; /* ржкрзНржпрж╛ржбрж┐ржВ ржмрж╛ржбрж╝рж╛ржирзЛ рж╣рж▓рзЛ */
            border-radius: 10px;
            margin-bottom: 1rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .step-number {
            font-size: 1.75rem; /* ржлржирзНржЯ рж╕рж╛ржЗржЬ ржмрж╛ржбрж╝рж╛ржирзЛ рж╣рж▓рзЛ */
            font-weight: 800;
            color: #0d6efd;
            flex-shrink: 0;
            line-height: 1;
            padding-top: 2px;
        }
        
        .step-title {
            font-weight: 700;
            color: #1f2937;
            font-size: 1.125rem; /* рж╢рж┐рж░рзЛржирж╛ржорзЗрж░ ржлржирзНржЯ рж╕рж╛ржЗржЬ ржмрж╛ржбрж╝рж╛ржирзЛ рж╣рж▓рзЛ */
            margin-bottom: 0.5rem;
        }

        /* ржорзВрж▓ ржХржирзНржЯрзЗржирзНржЯрзЗрж░ ржлржирзНржЯ рж╕рж╛ржЗржЬ */
        .main-content-text {
            font-size: 1.05rem; /* ржХржирзНржЯрзЗржирзНржЯрзЗрж░ ржлржирзНржЯ рж╕рж╛ржЗржЬ ржмрж╛ржбрж╝рж╛ржирзЛ рж╣рж▓рзЛ */
            line-height: 1.75;
        }
        
        /* ЁЯФе ржирждрзБржи: рж░рж┐ржкрзЛрж░рзНржЯ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрж╛рж░рзНржб рж╕рзНржЯрж╛ржЗрж▓ */
        .status-card {
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border-left: 5px solid;
            transition: all 0.3s ease;
        }

        .status-pending { 
            background-color: #f0f8ff; 
            border-left-color: #3b82f6; 
        } /* Blue for Pending */
        .status-approved { 
            background-color: #f0fff4; 
            border-left-color: #10b981; 
        } /* Green for Approved */
        .status-rejected { 
            background-color: #fff5f5; 
            border-left-color: #ef4444; 
        } /* Red for Rejected */
    </style>
</head>
<body class="p-4 flex flex-col items-center justify-center">

    <div class="container max-w-4xl w-full">
        
        <header class="app-card p-6 text-center mb-6 md:mb-8">
            <h1 class="text-3xl md:text-4xl font-extrabold text-gray-800 flex items-center justify-center gap-4">
                <i class="fas fa-bug text-red-500 text-3xl md:text-4xl"></i>
                рж░рж┐ржкрзЛрж░рзНржЯ, ржкрж░рж╛ржорж░рзНрж╢ ржУ ржирж┐рж░рзНржжрзЗрж╢рж┐ржХрж╛
            </h1>
            <p class="text-gray-500 font-semibold mt-2">ржЖржкржирж╛рж░ ржорзВрж▓рзНржпржмрж╛ржи ржЗржиржкрзБржЯ ржУ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржирж┐ржпрж╝ржорж╛ржмрж▓рзА ржЬрж╛ржирждрзЗ ржирж┐ржЪрзЗ ржжрзЗржЦрзБржиред</p>
            
            <!-- ржжрзНрж░рзБржд ржирзЗржнрж┐ржЧрзЗрж╢ржи рж▓рж┐ржВржХ ржпрзЛржЧ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ -->
            <div class="mt-5 flex flex-wrap justify-center gap-4">
                <a href="#report-form-section" class="text-base font-semibold text-red-600 hover:text-red-800 transition"><i class="fas fa-bug mr-1"></i> рж░рж┐ржкрзЛрж░рзНржЯ ржЬржорж╛</a>
                <a href="#user-reports-status" class="text-base font-semibold brand-blue-text hover:text-blue-800 transition"><i class="fas fa-history mr-1"></i> рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕</a>
                <a href="#earning-points" class="text-base font-semibold text-green-600 hover:text-green-800 transition"><i class="fas fa-money-bill-wave mr-1"></i> ржкржпрж╝рзЗржирзНржЯ ржЕрж░рзНржЬржи</a>
                <a href="#creating-tasks" class="text-base font-semibold text-purple-600 hover:text-purple-800 transition"><i class="fas fa-plus-circle mr-1"></i> ржХрж╛ржЬ рждрзИрж░рж┐</a>
            </div>
        </header>
        
        <!-- ржмрж┐ржжрзНржпржорж╛ржи рж░рж┐ржкрзЛрж░рзНржЯ ржУ ржкрж░рж╛ржорж░рзНрж╢ ржлрж░рзНржо рж╕рзЗржХрж╢ржи -->
        <main id="report-form-section" class="app-card p-4 md:p-6 mb-8">
            <h2 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2">рждрзНрж░рзБржЯрж┐ ржУ ржЙржирзНржирждрж┐рж░ рж░рж┐ржкрзЛрж░рзНржЯ ржлрж░рзНржо</h2>
            
            <div class="bg-yellow-50 text-yellow-800 p-4 rounded-lg border border-yellow-300 text-center mb-6">
                <h3 class="font-bold mb-1 text-lg flex items-center justify-center"><i class="fas fa-gift mr-2"></i> ржкрзБрж░рж╕рзНржХрж╛рж░рзЗрж░ ржШрзЛрж╖ржгрж╛</h3>
                <p class="text-sm font-semibold">ржЖржкржирж╛рж░ рж░рж┐ржкрзЛрж░рзНржЯ ржмрж╛ ржкрж░рж╛ржорж░рзНрж╢ржЯрж┐ **ржЧрзНрж░рж╣ржгржпрзЛржЧрзНржп** рж╣рж▓рзЗ ржЖржкржирж┐ **рзлрзж ржерзЗржХрзЗ рзлрзжрзж ржмрзЛржирж╛рж╕ ржкржпрж╝рзЗржирзНржЯ** ржкрзЗрждрзЗ ржкрж╛рж░рзЗржи!</p>
            </div>

            <form id="reportForm" class="space-y-4">
                
                <div class="form-group text-left">
                    <label for="reportType" class="block text-sm font-medium text-gray-700 mb-2">
                        рж░рж┐ржкрзЛрж░рзНржЯрзЗрж░ ржзрж░ржг:
                    </label>
                    <select id="reportType" name="reportType" class="app-input w-full" required>
                        <option value="bug">ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржмрж╛ржЧ/рждрзНрж░рзБржЯрж┐</option>
                        <option value="suggestion">ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯрзЗрж░ ржЙржирзНржирждрж┐рж░ ржкрж░рж╛ржорж░рзНрж╢</option>
                        <option value="security">ржирж┐рж░рж╛ржкрждрзНрждрж╛ рж╕ржВржХрзНрж░рж╛ржирзНржд рж╕ржорж╕рзНржпрж╛</option>
                        <option value="other">ржЕржирзНржпрж╛ржирзНржп</option>
                    </select>
                </div>
                
                <div class="form-group text-left">
                    <label for="reportTitle" class="block text-sm font-medium text-gray-700 mb-2">
                        рж╕ржВржХрзНрж╖рж┐ржкрзНржд рж╢рж┐рж░рзЛржирж╛ржо:
                    </label>
                    <input type="text" id="reportTitle" name="reportTitle" class="app-input w-full" placeholder="ржпрзЗржоржи: ржЯрж╛рж╕рзНржХ рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░ржЫрж┐ ржирж╛" required>
                </div>
                
                <div class="form-group text-left">
                    <label for="reportDetails" class="block text-sm font-medium text-gray-700 mb-2">
                        ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржмрж░рзНржгржирж╛ (ржЖржмрж╢рзНржпржХ):
                    </label>
                    <textarea id="reportDetails" name="reportDetails" rows="5" class="app-input w-full" placeholder="рж╕ржорж╕рзНржпрж╛ржЯрж┐ ржХрзЛржерж╛ржпрж╝ ржПржмржВ ржХрзАржнрж╛ржмрзЗ рж╣ржпрж╝рзЗржЫрзЗ, рждрж╛рж░ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рж▓рж┐ржЦрзБржи... ржЕржержмрж╛ ржЖржкржирж╛рж░ ржкрж░рж╛ржорж░рзНрж╢ржЯрж┐ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рзБржиред" required></textarea>
                </div>
                
                <div class="form-group text-left">
                    <label for="screenshotFile" class="block text-sm font-medium text-gray-700 mb-2">
                        рж╕рзНржХрзНрж░рж┐ржирж╢ржЯ ржкрзНрж░рзБржл (ржРржЪрзНржЫрж┐ржХ):
                    </label>
                    <input type="file" id="screenshotFile" name="screenshotFile" accept="image/*" class="w-full text-sm text-gray-500">
                    <p class="text-xs text-gray-500 mt-1">ржмрж╛ржЧ/рждрзНрж░рзБржЯрж┐рж░ ржкрзНрж░ржорж╛ржг рж╣рж┐рж╕рзЗржмрзЗ ржПржХржЯрж┐ рж╕рзНржХрзНрж░рж┐ржирж╢ржЯ ржжрж┐рждрзЗ ржкрж╛рж░рзЗржиред</p>
                </div>

                <button type="submit" class="w-full brand-blue text-white font-bold py-3 px-4 rounded-lg hover:shadow-lg transition duration-200" id="submit-button">
                    <i class="fas fa-paper-plane mr-2"></i> рж░рж┐ржкрзЛрж░рзНржЯ ржЬржорж╛ ржжрж┐ржи
                </button>
            </form>
        </main>
        
        <!-- ЁЯФе ржирждрзБржи рж╕рзЗржХрж╢ржи: ржЗржЙржЬрж╛рж░рзЗрж░ ржЬржорж╛ ржжрзЗржУрзЯрж╛ рж░рж┐ржкрзЛрж░рзНржЯрзЗрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ -->
        <section id="user-reports-status" class="app-card p-4 md:p-6 mb-8">
            <h2 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2 flex items-center gap-2">
                <i class="fas fa-history brand-blue-text"></i> ржЖржкржирж╛рж░ ржЬржорж╛ ржжрзЗржУрзЯрж╛ рж░рж┐ржкрзЛрж░рзНржЯрзЗрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕
            </h2>
            <div id="reports-list" class="space-y-4">
                <p class="text-center text-gray-500" id="loading-message">рж░рж┐ржкрзЛрж░рзНржЯ рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</p>
                <!-- рж░рж┐ржкрзЛрж░рзНржЯржЧрзБрж▓рзЛ ржПржЦрж╛ржирзЗ рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛ рж╣ржмрзЗ -->
            </div>
        </section>

        <!-- ржирждрзБржи ржирж┐рж░рзНржжрзЗрж╢рж┐ржХрж╛ рж╕рзЗржХрж╢ржи рж╢рзБрж░рзБ (instructions.html ржерзЗржХрзЗ ржХржкрж┐ ржХрж░рж╛ ржХржирзНржЯрзЗржирзНржЯ) -->
        <div class="app-card p-6 space-y-10 mt-8">
            <h2 class="text-3xl font-extrabold text-gray-800 flex items-center gap-4 border-b pb-4">
                <i class="fas fa-book-open text-orange-500 text-3xl"></i>
                ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржирж┐рж░рзНржжрзЗрж╢рж┐ржХрж╛: EngageHub ржкрзНрж▓рзНржпрж╛ржЯржлрж░рзНржо
            </h2>

            <!-- ржмрж┐ржнрж╛ржЧ рзз: ржкржпрж╝рзЗржирзНржЯ ржЕрж░рзНржЬржи (ржЯрж╛рж╕рзНржХ ржХрж░рж╛) -->
            <section id="earning-points">
                <div class="section-header">
                    <i class="fas fa-coins text-3xl text-yellow-600"></i>
                    <h2 class="text-2xl font-extrabold text-gray-800">рзз. ржкржпрж╝рзЗржирзНржЯ ржЕрж░рзНржЬржи: ржХрж╛ржЬ ржХрж░рж╛рж░ ржкржжрзНржзрждрж┐</h2>
                </div>
                
                <p class="main-content-text text-gray-700 font-medium mb-4">ржкржпрж╝рзЗржирзНржЯ ржЕрж░рзНржЬржи ржХрж░рждрзЗ ржирж┐ржЪрзЗ ржжрзЗржУрзЯрж╛ рзкржЯрж┐ ржзрж╛ржк ржЕржирзБрж╕рж░ржг ржХрж░рзБржиред ржкрзНрж░рждрж┐ржЯрж┐ ржзрж╛ржк рж╕ржарж┐ржХржнрж╛ржмрзЗ рж╕ржорзНржкржирзНржи ржХрж░рж╛ ржЖржмрж╢рзНржпржХред</p>
                
                <div class="space-y-4">
                    <div class="step-card">
                        <span class="step-number">рзз.</span>
                        <div>
                            <p class="step-title">ржЯрж╛рж╕рзНржХ ржирж┐рж░рзНржмрж╛ржЪржи</p>
                            <p class="main-content-text text-gray-700">ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗрж░ <strong>"ЁЯОп ржЙржкрж▓ржмрзНржз ржЯрж╛рж╕рзНржХ рж╕ржорзВрж╣"</strong> ржерзЗржХрзЗ ржЖржкржирж╛рж░ ржкржЫржирзНржжрзЗрж░ ржЯрж╛рж╕рзНржХржЯрж┐ ржмрзЗржЫрзЗ ржирж┐ржи ржПржмржВ <strong>"ржХрж╛ржЬржЯрж┐ ржХрж░рзБржи"</strong> ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржиред</p>
                        </div>
                    </div>
                    <div class="step-card">
                        <span class="step-number">рзи.</span>
                        <div>
                            <p class="step-title">ржЯрж╛рж╕рзНржХ рж╕ржорзНржкржирзНржи ржУ рж╕рзНржХрзНрж░рж┐ржирж╢ржЯ</p>
                            <p class="main-content-text text-gray-700">ржкрзНрж░ржжрждрзНржд ржлрзЗрж╕ржмрзБржХ рж▓рж┐ржВржХрзЗ ржЧрж┐рзЯрзЗ ржХрж╛ржЬржЯрж┐ (ржпрзЗржоржи: рж▓рж╛ржЗржХ, ржХржорзЗржирзНржЯ, ржлрж▓рзЛ) рж╕ржорзНржкржирзНржи ржХрж░рзБржиред ржХрж╛ржЬ рж╢рзЗрж╖ рж╣ржУржпрж╝рж╛рж░ ржкрзНрж░ржорж╛ржг рж╣рж┐рж╕рзЗржмрзЗ **ржкрзБрж░рзЛ рж╕рзНржХрзНрж░рж┐ржирзЗрж░ ржПржХржЯрж┐ ржирж┐рж░рзНржнрзБрж▓ рж╕рзНржХрзНрж░рж┐ржирж╢ржЯ** ржирж┐ржиред</p>
                        </div>
                    </div>
                    <div class="step-card">
                        <span class="step-number">рзй.</span>
                        <div>
                            <p class="step-title">ржкрзНрж░рзБржл ржлрж░ржо ржкрзВрж░ржг</p>
                            <p class="main-content-text text-gray-700">ржЬржорж╛ ржжрзЗржУржпрж╝рж╛рж░ ржкржкржЖржкрзЗ ржЖржкржирж╛рж░ **ржлрзЗрж╕ржмрзБржХ ржЖржЗржбрж┐рж░ ржкрзБрж░рзЛ ржирж╛ржо** (ржпрзЗ ржЖржЗржбрж┐ ржжрж┐ржпрж╝рзЗ ржХрж╛ржЬ ржХрж░рзЗржЫрзЗржи) рж▓рж┐ржЦрзБржи ржПржмржВ рж╕рзНржХрзНрж░рж┐ржирж╢ржЯ ржлрж╛ржЗрж▓ржЯрж┐ ржЖржкрж▓рзЛржб ржХрж░рзБржиред</p>
                        </div>
                    </div>
                    <div class="step-card">
                        <span class="step-number">рзк.</span>
                        <div>
                            <p class="step-title">ржкржпрж╝рзЗржирзНржЯ ржкрзНрж░рж╛ржкрзНрждрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи</p>
                            <p class="main-content-text text-gray-700">ржЖржкржирж╛рж░ ржкрзНрж░рзБржлржЯрж┐ ржЯрж╛рж╕рзНржХ ржорж╛рж▓рж┐ржХ ржмрж╛ ржоржбрж╛рж░рзЗржЯрж░ ржжрзНржмрж╛рж░рж╛ **ржЕржирзБржорзЛржжржи** ржкрзЗрж▓рзЗржЗ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржирж┐рж░рзНржзрж╛рж░рж┐ржд ржкржпрж╝рзЗржирзНржЯ ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗ ржпрзБржХрзНржд рж╣ржмрзЗред</p>
                        </div>
                    </div>
                </div>
                
                <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-bold text-gray-700"><i class="fas fa-handshake text-purple-600 mr-2"></i> рж░рзЗржлрж╛рж░рзЗрж▓ ржмрзЛржирж╛рж╕:</p>
                    <p class="main-content-text text-gray-600 mt-1">ржЖржкржирж╛рж░ <a href="profile.html" class="font-bold brand-blue-text hover:underline">рж░рзЗржлрж╛рж░рзЗрж▓ ржХрзЛржб</a> рж╢рзЗржпрж╝рж╛рж░ ржХрж░рзЗ ржкрзНрж░рждрж┐ржЯрж┐ рж╕ржлрж▓ рж╕рж╛ржЗржиржЖржкрзЗрж░ ржЬржирзНржп ржЕрждрж┐рж░рж┐ржХрзНржд рзирзл ржкржпрж╝рзЗржирзНржЯ ржЙржкрж╛рж░рзНржЬржи ржХрж░рзБржиред</p>
                </div>
            </section>
            
            <!-- ржмрж┐ржнрж╛ржЧ рзи: ржЯрж╛рж╕рзНржХ рждрзИрж░рж┐ ржХрж░рж╛ -->
            <section id="creating-tasks">
                <div class="section-header">
                    <i class="fas fa-list-check text-3xl brand-blue-text"></i>
                    <h2 class="text-2xl font-extrabold text-gray-800">рзи. ржЖржкржирж╛рж░ ржХрж╛ржЬ рждрзИрж░рж┐: ржЕрж░рзНржбрж╛рж░ ржжрзЗржУржпрж╝рж╛рж░ ржирж┐ржпрж╝ржо</h2>
                </div>
                <ul class="list-disc list-outside ml-5 space-y-3 text-gray-700 main-content-text">
                    <li><i class="fas fa-tags text-green-500 mr-2"></i> <strong>ржЕрж░рзНржбрж╛рж░ рждрзИрж░рж┐:</strong> <a href="order.html" class="font-bold brand-blue-text hover:underline">ржирждрзБржи ржЕрж░рзНржбрж╛рж░</a> ржкрзЗржЬрзЗ ржЧрж┐рзЯрзЗ ржЯрж╛рж╕рзНржХрзЗрж░ ржзрж░ржг, ржкрж╛ржмрж▓рж┐ржХ ржлрзЗрж╕ржмрзБржХ рж▓рж┐ржВржХ, ржкрзНрж░рждрж┐ ржХрж╛ржЬрзЗрж░ ржкржпрж╝рзЗржирзНржЯ ржПржмржВ ржорзЛржЯ ржкрж░рж┐ржорж╛ржг ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзБржиред</li>
                    <li><i class="fas fa-money-bill-wave text-red-500 mr-2"></i> <strong>ржкржпрж╝рзЗржирзНржЯ ржЦрж░ржЪ:</strong> ржЕрж░рзНржбрж╛рж░ рждрзИрж░рж┐рж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗржЗ ржорзЛржЯ ржЦрж░ржЪ (ржкржпрж╝рзЗржирзНржЯ x ржкрж░рж┐ржорж╛ржг) ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржерзЗржХрзЗ ржХрзЗржЯрзЗ ржирзЗржУржпрж╝рж╛ рж╣ржмрзЗред ржкрж░рзНржпрж╛ржкрзНржд ржкржпрж╝рзЗржирзНржЯ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржиред</li>
                    <li><i class="fas fa-link text-blue-500 mr-2"></i> <strong>рж▓рж┐ржВржХрзЗрж░ ржирж┐ржпрж╝ржо:</strong> ржЖржкржирж╛рж░ ржжрзЗржУржпрж╝рж╛ ржлрзЗрж╕ржмрзБржХ рж▓рж┐ржВржХржЯрж┐ ржЕржмрж╢рзНржпржЗ **ржкрж╛ржмрж▓рж┐ржХ ржкрзЛрж╕рзНржЯ** ржмрж╛ **ржкрзЗржЬрзЗрж░** рж╣рждрзЗ рж╣ржмрзЗред ржкрзНрж░рж╛ржЗржнрзЗржЯ рж▓рж┐ржВржХ ржмрж╛ ржкрзНрж░рзЛржлрж╛ржЗрж▓ рж▓рж┐ржВржХ ржЬржорж╛ ржжрзЗржУржпрж╝рж╛ ржпрж╛ржмрзЗ ржирж╛ред</li>
                    <li><i class="fas fa-hourglass-half text-orange-500 mr-2"></i> <strong>ржкрзНрж░рзБржл ржпрж╛ржЪрж╛ржЗржпрж╝рзЗрж░ ржжрж╛ржпрж╝рж┐рждрзНржм:</strong> ржЯрж╛рж╕рзНржХ рждрзИрж░рж┐ ржХрж░рж╛рж░ ржкрж░, ржЖржкржирж╛рж░ ржЕрж░рзНржбрж╛рж░рзЗрж░ ржЬржирзНржп ржЬржорж╛ ржкржбрж╝рж╛ ржкрзНрж░рзБржлржЧрзБрж▓рзЛ ржжрзНрж░рзБрждрждржо рж╕ржоржпрж╝рзЗ **ржЕржирзБржорзЛржжржи ржмрж╛ ржмрж╛рждрж┐рж▓** ржХрж░рж╛ ржЖржкржирж╛рж░ ржжрж╛ржпрж╝рж┐рждрзНржмред</li>
                </ul>
            </section>
            
            <!-- ржмрж┐ржнрж╛ржЧ рзй: ржкрзНрж░рзБржл ржУ рж░рж┐ржнрж┐ржЙ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ -->
            <section id="proof-rules">
                <div class="section-header">
                    <i class="fas fa-camera text-3xl text-orange-600"></i>
                    <h2 class="text-2xl font-extrabold text-gray-800">рзй. ржкрзНрж░рзБржл ржУ рж░рж┐ржнрж┐ржЙ: рж╕рзНржмржЪрзНржЫрждрж╛ ржУ ржЧрзНрж░рж╣ржгржпрзЛржЧрзНржпрждрж╛</h2>
                </div>
                
                <!-- ржкрзНрж░рзБржл ржЬржорж╛рж░ ржирж┐ржпрж╝ржо -->
                <div class="note-card bg-yellow-50 border-yellow-500 shadow-lg">
                    <p class="font-bold text-lg text-gray-800 mb-3 flex items-center"><i class="fas fa-clipboard-check mr-2 text-yellow-600"></i> **ржкрзНрж░рзБржл ржЬржорж╛ ржжрзЗржУржпрж╝рж╛рж░ ржЖржмрж╢рзНржпрж┐ржХ ржирж┐ржпрж╝ржо:**</p>
                    <ul class="list-disc list-outside ml-5 space-y-2 text-gray-700 main-content-text">
                        <li>**рж╕ржарж┐ржХрждрж╛:** рж╕рзНржХрзНрж░рж┐ржирж╢ржЯрзЗ ржЖржкржирж╛рж░ **ржлрзЗрж╕ржмрзБржХ ржЖржЗржбрж┐ ржПржмржВ ржХрж╛ржЬржЯрж┐ рж╕ржорзНржкржирзНржи ржХрж░рж╛рж░ рж╕рзБрж╕рзНржкрж╖рзНржЯ ржкрзНрж░ржорж╛ржг** ржерж╛ржХрждрзЗ рж╣ржмрзЗред</li>
                        <li>**ржЕржЦржгрзНржбрждрж╛:** рж╕рзНржХрзНрж░рж┐ржирж╢ржЯржЯрж┐ ржХрзНрж░ржк ржХрж░рж╛ ржмрж╛ ржЖржВрж╢рж┐ржХ рж╣рж▓рзЗ ржЪрж▓ржмрзЗ ржирж╛ред **ржкрзБрж░рзЛ рж╕рзНржХрзНрж░рж┐ржирзЗрж░ ржжрзГрж╢рзНржпржорж╛ржи ржЕржВрж╢** ржЬржорж╛ ржжрж┐рждрзЗ рж╣ржмрзЗред</li>
                        <li>**ржирж╛ржорзЗрж░ ржорж┐рж▓:** ржкрзНрж░рзБржл ржЬржорж╛рж░ рж╕ржоржпрж╝ ржЖржкржирж╛рж░ рж▓рзЗржЦрж╛ **ржлрзЗрж╕ржмрзБржХ ржЖржЗржбрж┐рж░ ржирж╛ржо** ржПржмржВ рж╕рзНржХрзНрж░рж┐ржирж╢ржЯрзЗ ржерж╛ржХрж╛ ржЖржЗржбрж┐рж░ ржирж╛ржорзЗрж░ рж╕рж╛ржерзЗ **ржЕржмрж╢рзНржпржЗ ржорж┐рж▓** ржерж╛ржХрждрзЗ рж╣ржмрзЗред</li>
                    </ul>
                </div>
                
                <!-- ржмрж╛рждрж┐рж▓рзЗрж░ ржХрж╛рж░ржг ржУ ржкрзБржирж░рзНржмрж┐ржмрзЗржЪржирж╛ -->
                <div class="note-card bg-red-50 border-red-500 shadow-lg mt-6">
                    <p class="font-bold text-lg text-gray-800 mb-3 flex items-center"><i class="fas fa-times-circle mr-2 text-red-600"></i> **ржмрж╛рждрж┐рж▓ ржУ ржкрзБржирж░рж╛ржпрж╝ ржЪрзЗрж╖рзНржЯрж╛:**</p>
                    <ul class="list-disc list-outside ml-5 space-y-2 text-gray-700 main-content-text">
                        <li>**ржмрж╛рждрж┐рж▓рзЗрж░ ржХрж╛рж░ржг:** ржкрзНрж░рзБржл ржмрж╛рждрж┐рж▓ рж╣рж▓рзЗ, ржЖржкржирж┐ ржЖржкржирж╛рж░ "ржЬржорж╛ ржжрзЗржУрзЯрж╛ ржкрзНрж░рзБржлржЧрзБрж▓рзЛрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕" рж╕рзЗржХрж╢ржирзЗ ржЯрж╛рж╕рзНржХ ржорж╛рж▓рж┐ржХ ржмрж╛ ржоржбрж╛рж░рзЗржЯрж░ ржжрзНржмрж╛рж░рж╛ ржжрзЗржУржпрж╝рж╛ **ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж╛рж░ржгржЯрж┐** ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗржиред</li>
                        <li>**ржкрзБржирж░рзНржмрж┐ржмрзЗржЪржирж╛:** ржмрж╛рждрж┐рж▓ рж╣ржУржпрж╝рж╛рж░ ржкрж░, ржЖржкржирж┐ **ржХрж╛рж░ржгржЯрж┐ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржмрзБржЭрзЗ** ржПржХржЗ ржХрж╛ржЬ ржЖржмрж╛рж░ ржХрж░рзЗ **рж╕ржарж┐ржХ ржкрзНрж░рзБржл** ржЬржорж╛ ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗржиред</li>
                    </ul>
                </div>
            </section>

            <!-- ржмрж┐ржнрж╛ржЧ рзк: рж╕рж╛ржзрж╛рж░ржг ржирж┐ржпрж╝ржо ржУ рж╕рждрж░рзНржХрждрж╛ -->
            <section id="general-rules">
                <div class="section-header">
                    <i class="fas fa-shield-alt text-3xl text-red-600"></i>
                    <h2 class="text-2xl font-extrabold text-gray-800">рзк. рж╕рж╛ржзрж╛рж░ржг ржирж┐ржпрж╝ржо ржУ рж╕рждрж░рзНржХрждрж╛</h2>
                </div>
                <ul class="list-disc list-outside ml-5 space-y-3 text-gray-700 main-content-text">
                    <li><i class="fas fa-bug text-orange-500 mr-2"></i> **ржЬрж╛рж▓рж┐рзЯрж╛рждрж┐ ржХржарзЛрж░ржнрж╛ржмрзЗ ржирж┐рж╖рж┐ржжрзНржз:** ржХрзЛржирзЛ ржзрж░ржирзЗрж░ ржнрзБржпрж╝рж╛ ржмрж╛ ржорж┐ржерзНржпрж╛ ржкрзНрж░рзБржл ржЬржорж╛ ржжрж┐рж▓рзЗ ржЖржкржирж╛рж░ ржкржпрж╝рзЗржирзНржЯ ржмрж╛ржЬрзЗржпрж╝рж╛ржкрзНржд рж╣ржмрзЗ ржПржмржВ **ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ рж╕рзНржерж╛ржпрж╝рзАржнрж╛ржмрзЗ ржмрзНрж▓ржХ** ржХрж░рж╛ рж╣рждрзЗ ржкрж╛рж░рзЗред</li>
                    <li><i class="fas fa-lock text-gray-500 mr-2"></i> **ржбрзЗржЯрж╛ ржирж┐рж░рж╛ржкрждрзНрждрж╛:** ржЖржкржирж╛рж░ рж╕ржорж╕рзНржд ржбрзЗржЯрж╛ ржПржмржВ ржкржпрж╝рзЗржирзНржЯрзЗрж░ рж╣рж┐рж╕рж╛ржм ржирж┐рж░рж╛ржкржжрзЗ ржЖржорж╛ржжрзЗрж░ **Firebase Realtime Database**-ржП рж╕ржВрж░ржХрзНрж╖рж┐ржд рж╣ржпрж╝ред</li>
                    <li><i class="fas fa-user-lock text-purple-500 mr-2"></i> **ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржпрждрзНржи:** ржЖржкржирж╛рж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓рзЗрж░ рждржерзНржп (ржпрзЗржоржи: ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржлржЯрзЛ) ржЖржкрж▓рзЛржб ржХрж░рждрзЗ <a href="profile.html" class="font-bold brand-blue-text hover:underline">ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржкрзЗржЬ</a> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред</li>
                </ul>
            </section>
        </div>
        <!-- ржирж┐рж░рзНржжрзЗрж╢рж┐ржХрж╛ рж╕рзЗржХрж╢ржи рж╢рзЗрж╖ -->


        <div class="mt-8 text-center">
            <a href="index.html" class="inline-flex items-center bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300">
                <i class="fas fa-arrow-left mr-2"></i>
                ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи
            </a>
        </div>
    </div>
    
    <div id="notification-container" class="fixed bottom-4 right-4 z-50 space-y-2"></div>

    <script type="module">
        // ржбрзЗржЯрж╛ржмрзЗржЬ рж╣рж┐рж╕рзЗржмрзЗ Firebase Realtime Database ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржмрзЗ
        import { auth, rtdb, showNotification, push, ref, get, onValue, update } from "./rtdb-config.js";
        import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js";
        
        const reportForm = document.getElementById('reportForm');
        const reportsList = document.getElementById('reports-list'); 
        let userId = null;
        let userName = 'ржЕржЬрж╛ржирж╛';

        // ----------------------------------------------------------------------
        // ЁЯФе Cloudinary ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи: рж╕рзНржХрзНрж░рж┐ржирж╢ржЯ ржЖржкрж▓рзЛржбрзЗрж░ ржЬржирзНржп
        // ----------------------------------------------------------------------
        const CLOUDINARY_CLOUD_NAME = 'deqeko2ny';
        const CLOUDINARY_UPLOAD_PRESET = 'Profilepicture';
        const CLOUDINARY_URL = `https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD_NAME}/image/upload`;
        // ----------------------------------------------------------------------
        
        // Cloudinary рждрзЗ ржЫржмрж┐ ржЖржкрж▓рзЛржбрзЗрж░ ржлрж╛ржВрж╢ржи
        async function uploadToCloudinary(file) {
            if (!file) return null;

            const formData = new FormData();
            formData.append('file', file);
            formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);
            // рж░рж┐ржкрзЛрж░рзНржЯрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЖрж▓рж╛ржжрж╛ ржлрзЛрж▓рзНржбрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рж▓рзЛ
            formData.append('folder', `bug_reports/${userId}`); 

            try {
                showNotification("рж╕рзНржХрзНрж░рж┐ржирж╢ржЯ ржЖржкрж▓рзЛржб рж╢рзБрж░рзБ рж╣ржЪрзНржЫрзЗ...", 'info');
                const response = await fetch(CLOUDINARY_URL, {
                    method: 'POST',
                    body: formData
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    console.error("Cloudinary Error:", errorData);
                    throw new Error(`Cloudinary ржЖржкрж▓рзЛржб ржмрзНржпрж░рзНрже: ${errorData.error.message || response.statusText}`);
                }

                const data = await response.json();
                showNotification("рж╕рзНржХрзНрж░рж┐ржирж╢ржЯ рж╕ржлрж▓ржнрж╛ржмрзЗ ржЖржкрж▓рзЛржб рж╣ржпрж╝рзЗржЫрзЗ!", 'success');
                return data.secure_url; // ржЖржкрж▓рзЛржб ржХрж░рж╛ ржЫржмрж┐рж░ URL
            } catch (error) {
                console.error("Error during Cloudinary upload:", error);
                showNotification(`рж╕рзНржХрзНрж░рж┐ржирж╢ржЯ ржЖржкрж▓рзЛржб ржмрзНржпрж░рзНрже рж╣ржпрж╝рзЗржЫрзЗред`, 'error');
                throw error; 
            }
        }
        
        // ЁЯФе ржирждрзБржи: рж░рж┐ржкрзЛрж░рзНржЯрзЗрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрж╛рж░рзНржб рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛рж░ ржлрж╛ржВрж╢ржи
        const createReportCard = (report) => {
            let statusClass = '';
            let statusText = '';
            let statusIcon = '';
            let commentHtml = '';
            let rewardHtml = '';

            // рж░рж┐ржкрзЛрж░рзНржЯрзЗрж░ ржзрж░ржгржХрзЗ рж╕рзБржирзНржжрж░ржнрж╛ржмрзЗ ржжрзЗржЦрж╛ржирзЛрж░ ржЬржирзНржп
            const getReportTypeDisplay = (type) => {
                switch(type.toLowerCase()) {
                    case 'bug': return 'ржмрж╛ржЧ/рждрзНрж░рзБржЯрж┐';
                    case 'suggestion': return 'ржкрж░рж╛ржорж░рзНрж╢';
                    case 'security': return 'ржирж┐рж░рж╛ржкрждрзНрждрж╛';
                    default: return 'ржЕржирзНржпрж╛ржирзНржп';
                }
            };

            switch (report.status) {
                case 'approved':
                    statusClass = 'status-approved';
                    statusText = 'ржЕржирзБржорзЛржжрж┐ржд';
                    statusIcon = 'fas fa-check-circle text-green-600';
                    if (report.rewardPoints > 0) {
                        rewardHtml = `<p class="text-sm font-bold text-green-700 mt-2">ржкрзНрж░рж╛ржкрзНржд ржкрзБрж░рж╕рзНржХрж╛рж░: ${(report.rewardPoints).toLocaleString('bn-BD')} ржкржпрж╝рзЗржирзНржЯ</p>`;
                    }
                    break;
                case 'rejected':
                    statusClass = 'status-rejected';
                    statusText = 'ржмрж╛рждрж┐рж▓ржХрзГржд';
                    statusIcon = 'fas fa-times-circle text-red-600';
                    break;
                default:
                    statusClass = 'status-pending';
                    statusText = 'ржкрж░рзНржпрж╛рж▓рзЛржЪржирж╛ржзрзАржи';
                    statusIcon = 'fas fa-hourglass-half text-blue-600';
            }
            
            // ЁЯФе ржПржбржорж┐ржи ржоржирзНрждржмрзНржп ржпржжрж┐ ржерж╛ржХрзЗ
            if (report.reviewComment) {
                const commentTypeClass = report.status === 'rejected' ? 'border-red-400 bg-red-50 text-red-800' : 'border-blue-400 bg-blue-50 text-blue-800';
                commentHtml = `
                    <div class="mt-3 pt-3 border-t border-dashed border-gray-200">
                        <p class="font-bold text-sm mb-1 text-gray-700">ржПржбржорж┐ржи ржоржирзНрждржмрзНржп:</p>
                        <div class="p-3 rounded-md border ${commentTypeClass}">
                            <p class="text-sm italic">${report.reviewComment}</p>
                        </div>
                    </div>
                `;
            }

            return `
                <div class="status-card ${statusClass}">
                    <div class="flex items-center justify-between">
                        <h3 class="font-bold text-gray-800 text-lg">${report.title}</h3>
                        <span class="font-semibold text-sm flex items-center gap-1">
                            <i class="${statusIcon}"></i>
                            ${statusText}
                        </span>
                    </div>
                    
                    <p class="text-sm text-gray-600 mt-1">ржзрж░ржг: ${getReportTypeDisplay(report.type)}</p>
                    <p class="text-xs text-gray-500">ржЬржорж╛ ржжрж┐ржпрж╝рзЗржЫрзЗржи: ${new Date(report.submittedAt).toLocaleDateString('bn-BD')}</p>
                    
                    ${rewardHtml}
                    ${report.screenshotUrl ? 
                        `<a href="${report.screenshotUrl}" target="_blank" class="brand-blue-text hover:underline text-xs block mt-2">
                            <i class="fas fa-image mr-1"></i> рж╕рзНржХрзНрж░рж┐ржирж╢ржЯ ржжрзЗржЦрзБржи
                        </a>`
                    : ''}
                    ${commentHtml}
                </div>
            `;
        };

        // ЁЯФе ржирждрзБржи: ржЗржЙржЬрж╛рж░рзЗрж░ рж░рж┐ржкрзЛрж░рзНржЯржЧрзБрж▓рзЛрж░ ржЬржирзНржп рж▓рж┐рж╕рзЗржирж╛рж░ рж╕рзЗржЯ ржХрж░рж╛
        const listenForUserReports = (currentUserId) => {
            const reportsRef = ref(rtdb, 'reports');
            
            onValue(reportsRef, (snapshot) => {
                const allReports = snapshot.val() || {};
                const userReports = Object.keys(allReports)
                    .map(key => ({ id: key, ...allReports[key] }))
                    .filter(report => report.userId === currentUserId)
                    .sort((a, b) => b.submittedAt - a.submittedAt); // рж╕рж░рзНржмрж╢рзЗрж╖ рж░рж┐ржкрзЛрж░рзНржЯржЯрж┐ ржЙржкрж░рзЗ ржжрзЗржЦрж╛ржмрзЗ

                reportsList.innerHTML = ''; // рждрж╛рж▓рж┐ржХрж╛ рж╕рж╛ржл ржХрж░рж╛
                
                if (userReports.length === 0) {
                    reportsList.innerHTML = '<p class="text-center text-gray-500 py-4">ржЖржкржирж┐ ржПржЦржирзЛ ржХрзЛржирзЛ рж░рж┐ржкрзЛрж░рзНржЯ ржмрж╛ ржкрж░рж╛ржорж░рзНрж╢ ржЬржорж╛ ржжрзЗржиржирж┐ред</p>';
                    return;
                }
                
                userReports.forEach(report => {
                    reportsList.insertAdjacentHTML('beforeend', createReportCard(report));
                });
                
            }, (error) => {
                console.error("Error fetching user reports:", error);
                reportsList.innerHTML = '<p class="text-center text-red-500 py-4">ржЖржкржирж╛рж░ рж░рж┐ржкрзЛрж░рзНржЯржЧрзБрж▓рж┐ рж▓рзЛржб ржХрж░рждрзЗ ржмрзНржпрж░рзНрже рж╣ржпрж╝рзЗржЫрзЗред</p>';
            });
        };

        // Firebase Auth State Listener
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                userId = user.uid;
                
                // ржЗржЙржЬрж╛рж░рзЗрж░ ржирж╛ржо рж▓рзЛржб ржХрж░рж╛
                const userRef = ref(rtdb, `users/${userId}`);
                const snapshot = await get(userRef);
                const userData = snapshot.val();
                if (userData && userData.facebookName) {
                    userName = userData.facebookName;
                }
                
                // ЁЯФе ржирждрзБржи: ржЗржЙржЬрж╛рж░рзЗрж░ рж░рж┐ржкрзЛрж░рзНржЯ рж▓рзЛржб ржХрж░рж╛
                listenForUserReports(userId);
                
            } else {
                window.location.href = 'login.html'; // ржпржжрж┐ рж▓ржЧржЗржи ржирж╛ ржХрж░рж╛ ржерж╛ржХрзЗ
            }
        });


        reportForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (!userId) {
                showNotification("рждрзНрж░рзБржЯрж┐: ржЖржкржирж╛рж░ ржЗржЙржЬрж╛рж░ ржЖржЗржбрж┐ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐ред рж▓ржЧржЗржи ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред", 'error');
                return;
            }
            
            const submitButton = document.getElementById('submit-button');
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> ржЬржорж╛ рж╣ржЪрзНржЫрзЗ...';

            const reportType = reportForm['reportType'].value;
            const reportTitle = reportForm['reportTitle'].value.trim();
            const reportDetails = reportForm['reportDetails'].value.trim();
            const screenshotInput = reportForm['screenshotFile'];
            const screenshotFile = screenshotInput.files[0];

            let screenshotUrl = '';
            
            try {
                // рзз. ржпржжрж┐ ржХрзЛржирзЛ ржлрж╛ржЗрж▓ ржерж╛ржХрзЗ, рждржмрзЗ рждрж╛ Cloudinary рждрзЗ ржЖржкрж▓рзЛржб ржХрж░рж╛
                if (screenshotFile) {
                    screenshotUrl = await uploadToCloudinary(screenshotFile);
                }
                
                // рзи. Realtime Database ржП рж░рж┐ржкрзЛрж░рзНржЯ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ (reports ржирзЛржбрзЗрж░ ржирж┐ржЪрзЗ)
                const reportsRef = ref(rtdb, 'reports'); // ЁЯФе ржирзЛржб: reports
                
                const reportData = {
                    userId: userId,
                    userName: userName,
                    type: reportType,
                    title: reportTitle,
                    details: reportDetails,
                    screenshotUrl: screenshotUrl,
                    submittedAt: Date.now(),
                    status: 'pending', // ржкрзНрж░рж╛ржержорж┐ржХ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕
                    rewardPoints: 0, // ржкрзБрж░рж╕рзНржХрж╛рж░ ржкржпрж╝рзЗржирзНржЯ
                    reviewComment: '' // ЁЯФе ржирждрзБржи: ржПржбржорж┐ржи ржоржирзНрждржмрзНржпрзЗрж░ ржЬржирзНржп ржХрзНрж╖рзЗрждрзНрж░
                };

                await push(reportsRef, reportData);

                showNotification('ржЖржкржирж╛рж░ рж░рж┐ржкрзЛрж░рзНржЯ рж╕ржлрж▓ржнрж╛ржмрзЗ ржЬржорж╛ ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝рзЗржЫрзЗ! ржЖржорж╛ржжрзЗрж░ ржЯрж┐ржо ржПржЯрж┐ рж░рж┐ржнрж┐ржЙ ржХрж░ржмрзЗред', 'success');
                reportForm.reset();

            } catch (error) {
                console.error("Report submission failed:", error);
                // Cloudinary error already handled by showNotification inside uploadToCloudinary
                if (!error.message.includes('Cloudinary')) { 
                    showNotification(`рж░рж┐ржкрзЛрж░рзНржЯ ржЬржорж╛ ржжрж┐рждрзЗ ржмрзНржпрж░рзНрже: ${error.message}`, 'error');
                }
            } finally {
                submitButton.disabled = false;
                submitButton.innerHTML = '<i class="fas fa-paper-plane mr-2"></i> рж░рж┐ржкрзЛрж░рзНржЯ ржЬржорж╛ ржжрж┐ржи';
            }
        });
    </script>
</body>
</html>

